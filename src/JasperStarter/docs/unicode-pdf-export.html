<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/apt/unicode-pdf-export.apt at 2024-04-29
 | Rendered using Apache Maven Fluido Skin 1.10.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>JasperStarter &#x2013; Exporting unicode reports to pdf with JasperReports</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.10.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.10.0.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>JasperStarter - Running JasperReports from command line</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="projectVersion">Version: 3.7.0-SNAPSHOT</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="de/index.html" title="[de]">[de]</a></li>
      <li class="pull-right"><a href="cs/index.html" title="[cs]">[cs]</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span3">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a></li>
    <li><a href="https://bitbucket.org/cenote/jasperstarter/src/main/FAQ.md" class="externalLink" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="screenshots.html" title="Screenshots"><span class="none"></span>Screenshots</a></li>
    <li><a href="files.html" title="Files"><span class="none"></span>Files</a></li>
    <li><a href="changes.html" title="Changes"><span class="none"></span>Changes</a></li>
    <li><a href="https://bitbucket.org/cenote/jasperstarter/src/main/CONTRIBUTING.md" class="externalLink" title="Contributing"><span class="none"></span>Contributing</a></li>
    <li><a href="http://sourceforge.net/projects/jasperstarter/files/" class="externalLink" title="Downloads"><span class="none"></span>Downloads</a></li>
    <li><a href="source-repository.html" title="Sourcecode"><span class="none"></span>Sourcecode</a></li>
    <li><a href="http://sourceforge.net/projects/jasperstarter/" class="externalLink" title="Project Site"><span class="none"></span>Project Site</a></li>
    <li><a href="http://www.openhub.net/p/jasperstarter" class="externalLink" title="OpenHub"><span class="none"></span>OpenHub</a></li>
   <li class="nav-header">Howto</li>
    <li class="active"><a href="#"><span class="none"></span>Unicode pdf export</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
  </ul>
      <div id="lastPublished">
        <span id="publishDate">Last Published: 2024-04-29</span>
      </div>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
    <div id="twitter" style="border:none; margin-top: 10px">
    <a href="https://twitter.com/vosskaem" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="false" data-lang="en">Follow vosskaem</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span9" >
<section>
<h2><a name="Exporting_unicode_reports_to_pdf_with_JasperReports"></a>Exporting unicode reports to pdf with JasperReports</h2>
<ul>
<li><a href="#Preface">Preface</a></li>
<li><a href="#One_step_closer">One step closer</a></li>
<li><a href="#It_still_does_not_work">It still does not work</a></li>
<li><a href="#Using_any_unicode_font">Using any unicode font</a>
<ul>
<li><a href="#Installing_a_font_to_iReport">Installing a font to iReport</a></li>
<li><a href="#Using_a_font_outside_of_iReport">Using a font outside of iReport</a></li>
<li><a href="#Using_a_font_with_JasperStarter">Using a font with JasperStarter</a></li></ul></li></ul><section>
<h3><a name="Preface"></a>Preface</h3>
<p>Many people may not care about unicode when using JasperReports. They just choose the font they like for their fields and static text, run the report and that&#xb4;s it. But if your report contains characters, which are not contained in your default non unicode operating system characterset, you'll be surprised. You`ll get correct print preview and printout but no correct pdf export. Some characters will miss.</p>
<p>I had this problem and what I found on the internet was quite confusing. I found everythig from &quot;this is a bug in the underlaying itext library&quot; to complicated looking solutions using deprecated JasperReports functions.</p>
<p>But the real solution is fortunately quite simple...</p></section><section>
<h3><a name="One_step_closer"></a>One step closer</h3>
<p>Just switch the font name of the desired field to &quot;DejaVu Sans&quot;. Depending on the used characters you may notice that they are now visible in pdf too.</p>
<p>(The DejaVu font family is a bit limited but for example you will be able to export cyrillic characters with it. See <a class="externalLink" href="http://dejavu-fonts.org">http://dejavu-fonts.org</a> for further information.)</p></section><section>
<h3><a name="It_still_does_not_work"></a>It still does not work</h3>
<p>You switched the font name property of the desired field to &quot;DejaVu Sans&quot; and you checked on the website that the characters are included in the font but you still got nothing in your PDF?</p>
<p>Did you previously play with the deprecated options like &quot;PDF Font name&quot; or &quot;PDF Encoding&quot;? Even if you switch back this options to their default values this may be the reason that you don't get it displayed in PDF. You have to switch to the xml view of your report definition and check that these options are NOT present at all!</p>
<p>For example this does not work:</p>
<div class="source"><pre class="prettyprint">&lt;staticText&gt;
    &lt;reportElement x=&quot;14&quot; y=&quot;63&quot; width=&quot;521&quot; height=&quot;24&quot;/&gt;
    &lt;textElement&gt;
       &lt;font fontName=&quot;DejaVu Sans&quot; size=&quot;15&quot; pdfFontName=&quot;DejaVu Sans&quot; pdfEncoding=&quot;Identity-H&quot;/&gt;
    &lt;/textElement&gt;
    &lt;text&gt;&lt;![CDATA[Cyrillic: &#x431; &#x432; &#x433; &#x434; &#x436; &#x437; &#x438; &#x44c; &#x43a; &#x43b; &#x43c; &#x43d; &#x43f; &#x444; &#x446; &#x447; &#x448; &#x448;&#x442; &#x44d; &#x44f; &#x44e; &#x44f; &#x44b;]]&gt;&lt;/text&gt;
&lt;/staticText&gt;</pre></div>
<p>This will work as the <i>pdfFontName</i> and <i>pdfEncoding</i> attributes are not present:</p>
<div class="source"><pre class="prettyprint">&lt;staticText&gt;
    &lt;reportElement x=&quot;14&quot; y=&quot;63&quot; width=&quot;521&quot; height=&quot;24&quot;/&gt;
    &lt;textElement&gt;
       &lt;font fontName=&quot;DejaVu Sans&quot; size=&quot;15&quot;/&gt;
    &lt;/textElement&gt;
    &lt;text&gt;&lt;![CDATA[Cyrillic: &#x431; &#x432; &#x433; &#x434; &#x436; &#x437; &#x438; &#x44c; &#x43a; &#x43b; &#x43c; &#x43d; &#x43f; &#x444; &#x446; &#x447; &#x448; &#x448;&#x442; &#x44d; &#x44f; &#x44e; &#x44f; &#x44b;]]&gt;&lt;/text&gt;
&lt;/staticText&gt;</pre></div></section><section>
<h3><a name="Using_any_unicode_font"></a>Using any unicode font</h3>
<p>Maybe your characters are not displayed with the DejaVu fonts or you just don't like this font. What about using Arial or any other unicode font?</p>
<p>To achieve this you must provide your font in a special way to JasperReports. This means your fonts must be put in a .jar file which must contain additional information in a property file and a special xml file describing the contained fonts. This jar file must be on the java classpath while you execute your report. Sounds complicated? Don't panic... ;-)</p>
<p>You can create such a font jar file in two steps using the graphical report editor <a class="externalLink" href="http://community.jaspersoft.com/project/ireport-designer">iReport</a> which you may already be using.</p>
<p>If you open the selection list of the font name property in iReports, you may notice that there are a few entries at the top of the list and then, devided by a dash, a longer list of fonts. The longer list beneath the dash are the fonts installed in your operating system whilest the entries above are fonts that are installed into iReports. Only these installed fonts can be used to export unicode characters to pdf whithin iReports. So the first step is to install your favorite font to iReport.</p><section>
<h4><a name="Installing_a_font_to_iReport"></a>Installing a font to iReport</h4>
<ul>
<li>Open the options dialog of iReport.</li>
<li>Select the iReport section (if not already selected).</li>
<li>Click on the fonts tab.</li></ul>
<p>You now see a list of all already installed fonts. The three DejaVue fonts are installed by default and the other three are generic font aliases.</p>
<ul>
<li>Click on the &quot;Install Font&quot; button.</li>
<li>Use the &quot;Browse&quot; button to select the font file (use the standard version here, not the bold or italic).</li>
<li>In the next window you can add the other font types.
<ul>
<li>Choose &quot;Identity-H (Unicode with horizontal writing)&quot;</li>
<li>If you install a special font, which is usually not available on other users systems, you should also check the &quot;Embed this font in the PDF document&quot; option.</li>
<li>Click &quot;Next&quot;</li></ul></li>
<li>The locales list can be left empty. Just click &quot;Next&quot;</li>
<li>The font mappings are used if you export your report to html, xhtml or rtf. If you don't need this, leave it empty.</li>
<li>Now click &quot;Finish&quot;</li></ul>
<p>Now you shoud be able to export your report to pdf from within iReport using your installed font and foreign characters.</p>
<p><b>A note to Windows 7 users:</b></p>
<p>You may get an error if you try to install a font into iReport because you have no right to write into the directory. Change the security property of the</p>
<div class="source"><pre class="prettyprint">C:\Program Files\Jaspersoft\iReport-4.1.1\ireport\fonts</pre></div>
<p>or</p>
<div class="source"><pre class="prettyprint">C:\Program Files (x86)\Jaspersoft\iReport-4.1.1\ireport\fonts</pre></div>
<p>directory to allow users to write there.</p></section><section>
<h4><a name="Using_a_font_outside_of_iReport"></a>Using a font outside of iReport</h4>
<ul>
<li>Just open the options dialog of iReports again.</li>
<li>Select the iReport section (if not already selected).</li>
<li>Click on the fonts tab.</li>
<li>Select the previously installed font and click on the button &quot;Export as extension&quot;.</li>
<li>Chose a folder and filename ending with <i>.jar</i></li></ul>
<p>Now you have a ready to use font jar which can be used with JasperReports. Just add it to the classpath of your application.</p></section><section>
<h4><a name="Using_a_font_with_JasperStarter"></a>Using a font with JasperStarter</h4>
<p>If you want to use the previously created font jar with JasperStarter just put it into the <i>jdbc</i> directory you are using with JasperStarter. All jar files there are added to the classpath.</p></section></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2012&#x2013;2024
<a href="http://www.cenote.de">Cenote GmbH</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
